<!DOCTYPE html>
<html>
<head>
	<title>CLase 20</title>
	<meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style type="text/css">
        .row {
            margin-right: -15px;
            margin-left: -15px;
            margin-top: 40px;
        }
        #animales img{
            width: 100px;
            height: 100px;
        }
    </style>
</head>
<body>


<div class="container">
    <div class="row">
    <div id="pregunta">
        <input id="buscar" type="text"><button id="boton_buscar" class="btn btn-warning btn-lg">Buscar</button>
    </div>
    <div id="animales">
        
    </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-2.1.1.js"></script>
<script type="text/javascript">
        // var posts = []

        // var post_factory = function(id){

        // var post = {
        //     url: 'http://jsonplaceholder.typicode.com/posts/',
        //     $el: $('<div class="post">').appendTo($('body')),
        //     initialize: function(id){
        //         this.$el.attr('id', id)
        //         this.url += id
        //         var thisPost = this 
        //         $.get (this.url, function(data){
        //             console.log(this) //en la ventana del navegador
        //             thisPost.attributes = data
        //             thisPost.render()
        //         })
        //         posts.push(this)
        //     },
        //     render: function(){
        //         this.$el.append([
        //             $('<div>').addClass('title').text(this.attributes.title),
        //             $('<div>').addClass('body').text(this.attributes.body)
        //         ])
        //     }
        // }
        // for(var i = 0; i <=id; i++){
        // post.initialize(i)
        // }
        // }

        var get_pictures = function (searchTerm) {
          $.ajax({
            url: "https://api.imgur.com/3/gallery/search?q="+ encodeURI(searchTerm),
            headers: { "Authorization": "Client-ID e3776adbe9c5fb9" },
            success: function(response){
                for(var i in response.data){
                    if(!response.data[i].is_album){
              $('#animales').append("<img src='"+response.data[i].link+"'>")
          }
            }}  
          })
        }

        $('#boton_buscar').click(function(){
            get_pictures($("input").val())    
        })


    </script>


</body>
</html>